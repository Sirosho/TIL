# React Router 설정 순서

## 1. 필요한 것들을 import한다
```javascript
import { createBrowserRouter } from 'react-router-dom';
import ErrorPage from '../pages/ErrorPage.jsx';
import HomePage from '../pages/HomePage.jsx';
// 필요한 페이지 컴포넌트들을 import한다
```

## 2. createBrowserRouter로 라우터를 생성한다
```javascript
const router = createBrowserRouter([
  // 라우트 설정 배열
]);
```

## 3. 라우트 구조를 정의한다
```javascript
const router = createBrowserRouter([
  {
    path: '/',                    // 경로를 설정한다
    element: <RootLayout/>,       // 렌더링할 컴포넌트를 지정한다
    errorElement: <ErrorPage/>,   // 에러 페이지를 설정한다
    children: [                   // 중첩 라우트를 정의한다
      // 자식 라우트들
    ]
  }
]);
```

## 4. 자식 라우트를 추가한다
```javascript
children: [
  {
    index: true,              // 기본 경로 (/)를 의미한다
    element: <HomePage/>
  },
  {
    path: 'events',           // /events 경로다
    element: <EventLayout/>,
    children: [               // 더 깊은 중첩도 가능하다
      // 또 다른 자식 라우트들
    ]
  }
]
```

## 5. 동적 라우트와 기능을 설정한다
```javascript
{
  path: ':eventId',              // 동적 파라미터 (:eventId)를 사용한다
  element: <EventDetailPage/>,
  loader: eventDetailLoader,     // 데이터 로딩 함수를 설정한다
  action: deleteAction           // 폼 액션 함수를 설정한다
}
```

## 6. App.jsx에서 RouterProvider로 연결한다
```javascript
import { RouterProvider } from "react-router-dom";
import router from "./routes/route-config.jsx";

const App = () => (
  <RouterProvider router={router}/>
);
```

## RouterProvider란?

**RouterProvider는 React Router v6.4+에서 라우터를 앱에 제공하는 컴포넌트다.**

### 역할
- **라우터 객체를 받아서 전체 앱에 라우팅 기능을 제공한다**
- **URL 변경을 감지하고 해당하는 컴포넌트를 렌더링한다**
- **브라우저의 뒤로 가기/앞으로 가기를 처리한다**

### 기본 사용법
```javascript
// 라우터 객체를 prop으로 전달한다
<RouterProvider router={router} />
```

### 이전 방식과의 차이
```javascript
// 이전 방식 (v6.3 이하)
<BrowserRouter>
  <Routes>
    <Route path="/" element={<Home />} />
  </Routes>
</BrowserRouter>

// 새 방식 (v6.4+)
const router = createBrowserRouter([...]);
<RouterProvider router={router} />
```

### 장점
- **데이터 로더(loader)와 액션(action) 기능을 사용할 수 있다**
- **에러 핸들링이 더 체계적이다**
- **라우트 설정이 컴포넌트 외부에서 관리된다**

**핵심 순서:**
1. **import** → 2. **createBrowserRouter** → 3. **라우트 구조 정의** → 4. **자식 라우트 추가** → 5. **기능 설정** → 6. **RouterProvider로 App에 연결**