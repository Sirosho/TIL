
# Spring

### 1. 여러개 생성되어야하는 객체는 spring에 컴포넌트로 맡기지 않음

### 2. DTO에서의 객체 변환 메서드는 static으로 만들어주는게 편함


### 3. mvc에서의 의존성 흐름

```
의존성 방향
Controller ──> Service ──> Repository

```

Controller는 Service를 호출할 수 있음

Service는 Controller를 모름 ❌

Service는 Repository를 호출할 수 있음

Repository는 Service를 모름 ❌


# User 엔터티의 Password

## Password 필드에 Null 값을 허용해야 하는 이유

네, 코드에 작성된 주석의 내용이 정확합니다. `password` 필드에 `NOT NULL` 제약조건을 걸지 않는 이유는 일반적으로 다음과 같은 두 가지 주요 시나리오를 처리하기 위함입니다.



### 상세 설명

---

#### 1. **소셜 로그인(SNS 로그인) 회원**

* **구글, 카카오, 네이버** 등과 같은 외부 소셜 플랫폼을 통해 로그인하는 사용자는 해당 서비스의 인증을 이용합니다.
* 이런 사용자들은 우리 서비스에 직접 비밀번호를 설정하고 저장할 필요가 없습니다. 인증은 소셜 플랫폼이 책임지기 때문입니다.
* 따라서 소셜 로그인으로 가입한 회원의 데이터베이스 레코드에는 `password` 필드가 비어있어야 하므로 `NULL`을 허용해야 합니다.

#### 2. **회원가입 절차가 완료되지 않은 회원**

* 최근 많은 서비스들은 이메일이나 휴대폰 인증을 먼저 거친 후, 추가 정보를 입력받아 회원가입을 완료하는 단계를 가집니다.
* 예를 들어, 사용자가 이메일 인증번호를 받고 인증을 완료한 시점에 우선 회원 데이터(가회원 상태)를 생성할 수 있습니다.
* 이 시점에는 아직 비밀번호를 설정하지 않았으므로, `password` 필드는 `NULL` 상태로 저장됩니다. 이후 사용자가 비밀번호를 설정하면 해당 필드가 업데이트됩니다.
* 만약 `password` 필드에 `NOT NULL` 제약조건이 있다면, 이런 중간 단계의 회원 정보를 저장할 수 없게 됩니다.

### 요약

결론적으로 `password` 컬럼을 **nullable (NULL 허용)**로 설정하는 것은 다양한 인증 방식과 유연한 회원가입 절차를 지원하기 위한 **의도적인 설계**입니다. 이를 통해 단일 회원 테이블에서 일반 이메일 가입자와 소셜 로그인 가입자, 그리고 가입 절차를 진행 중인 사용자까지 모두 효율적으로 관리할 수 있습니다.







